(this["webpackJsonpgmoney-map"]=this["webpackJsonpgmoney-map"]||[]).push([[0],{207:function(e,t,a){e.exports={App:"App_App__1kZVx"}},229:function(e,t,a){e.exports=a(457)},434:function(e,t,a){},457:function(e,t,a){"use strict";a.r(t);a(230),a(232),a(233),a(234),a(235),a(236),a(237),a(238),a(239),a(240),a(241),a(242),a(243),a(244),a(245),a(246),a(247),a(248),a(249),a(250),a(251),a(252),a(253),a(254),a(255),a(256),a(257),a(97),a(258),a(259),a(260),a(261),a(262),a(263),a(264),a(265),a(266),a(267),a(268),a(269),a(270),a(271),a(272),a(274),a(276),a(277),a(278),a(279),a(280),a(281),a(282),a(283),a(284),a(285),a(286),a(287),a(289),a(290),a(291),a(292),a(293),a(294),a(295),a(296),a(297),a(298),a(299),a(300),a(302),a(303),a(304),a(305),a(306),a(307),a(309),a(311),a(313),a(314),a(315),a(316),a(317),a(318),a(319),a(320),a(321),a(322),a(323),a(324),a(325),a(326),a(327),a(328),a(329),a(330),a(331),a(332),a(334),a(335),a(338),a(339),a(340),a(342),a(343),a(344),a(345),a(346),a(347),a(348),a(349),a(350),a(351),a(352),a(183),a(353),a(354),a(355),a(356),a(357),a(358),a(359),a(186),a(360),a(361),a(362),a(363),a(364),a(365),a(366),a(367),a(368),a(369),a(370),a(371),a(372),a(373),a(374),a(375),a(376),a(377),a(378),a(379),a(380),a(381),a(382),a(383),a(384),a(385),a(387),a(388),a(389),a(390),a(391),a(392),a(393),a(394),a(395),a(396),a(397),a(398),a(399),a(400),a(401),a(402),a(403),a(404),a(405),a(406),a(407),a(408),a(409),a(410),a(411),a(412),a(413),a(414),a(415),a(416),a(417),a(418),a(419),a(420),a(421),a(422),a(423),a(424),a(425),a(426),a(429),a(194);var n=a(0),o=a.n(n),r=a(22),c=a.n(r),l=(a(434),a(500)),i=a(214),s=a(484),u=a(485),m=Object(i.a)({palette:{primary:s.a,secondary:u.a},typography:{fontFamily:["Noto Sans KR"].join(",")}}),p=a(207),d=a.n(p),f=a(40),g=a(486),h=a(51),b=a(487),v=a(489),E=a(115),k=a(503),y=a(18),j=a(209),O=a.n(j),w=Object(g.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(h.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(h.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(y.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(y.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(h.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}})),C=function(e){var t=e.onSearch,a=w(),r=Object(n.useState)(""),c=Object(f.a)(r,2),l=c[0],i=c[1];return o.a.createElement("div",{className:a.root},o.a.createElement(b.a,{position:"fixed"},o.a.createElement(v.a,null,o.a.createElement(E.a,{className:a.title,variant:"h6",noWrap:!0},"\uacbd\uae30\uc9c0\uc5ed\ud654\ud3d0 \uac00\ub9f9\uc810 \uc9c0\ub3c4"),o.a.createElement("div",{className:a.search},o.a.createElement("div",{className:a.searchIcon},o.a.createElement(O.a,null)),o.a.createElement(k.a,{placeholder:"\uac74\ubb3c, \uc9c0\uc5ed \uac80\uc0c9...",classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){return i(e.target.value)},value:l,onKeyPress:function(e){13===e.charCode&&(t(l),e.target.blur())}})))))};C.defaultProps={onSearch:function(){}};var S=C,x=a(459),L=a(490),I=a(491),B=a(492),N=Object(g.a)((function(e){return{rightTopToolbar:Object(h.a)({position:"fixed",zIndex:1e3,right:e.spacing(1),top:e.spacing(8),backgroundColor:"#fff"},e.breakpoints.up("sm"),{top:e.spacing(10),right:e.spacing(2)}),leftTopToolbar:Object(h.a)({position:"fixed",zIndex:1e3,left:e.spacing(1),top:e.spacing(8),backgroundColor:"#fff"},e.breakpoints.up("sm"),{top:e.spacing(10),left:e.spacing(2)})}})),z=function(e){var t=e.pending,a=e.onLocationButtonClick,n=e.onFetchButtonClick,r=N();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:r.rightTopToolbar},o.a.createElement(L.a,{orientation:"vertical",variant:"outlined",color:"primary","aria-label":"outlined primary button group"},o.a.createElement(x.a,{disabled:t,onClick:function(){return a()}},o.a.createElement(I.a,null)))),n&&o.a.createElement("div",{className:r.leftTopToolbar},o.a.createElement(L.a,{orientation:"vertical",variant:"outlined",color:"primary","aria-label":"outlined primary button group"},o.a.createElement(x.a,{disabled:t,onClick:function(){return n()}},o.a.createElement(B.a,null),o.a.createElement("span",{style:{marginBottom:1}},"\uc774 \uc704\uce58\uc5d0\uc11c \uac00\ub9f9\uc810 \ubd88\ub7ec\uc624\uae30")))))};z.defaultProps={onLocationButtonClick:function(){},onRenewButtonClick:function(){},onFilterButtonClick:function(){}};var T,F=z,R=a(498),A=a(113),M=a(210),P=a(92),_=a.n(P),W=_.a.CancelToken,D=function(){function e(){Object(A.a)(this,e)}return Object(M.a)(e,[{key:"fetchShopsByBounds",value:function(e,t,a){return T&&T(),_.a.get("https://gmoneyapi.toast.paas-ta.com/api/shops/search?lat=".concat(e,"&lon=").concat(t,"&radius=").concat(a),{cancelToken:new W((function(e){T=e}))})}}]),e}(),G=new function e(){Object(A.a)(this,e),this.Shop=new D},K=Object(g.a)((function(e){return{info:{position:"fixed",zIndex:9999,backgroundColor:"rgba(0,0,0,0.6)",color:"#fff",display:"flex",justifyContent:"center",alignItems:"center",top:"50%",left:"50%",width:240,height:80,marginTop:-40,marginLeft:-120,fontSize:15}}})),H=function(e){var t=e.message,a=K();return o.a.createElement("div",{className:a.info},t)},J=(a(456),a(493)),Z=a(504),U=a(499),V=a(502),$=a(494),q=a(497),Q=a(496),X=a(505),Y=a(495),ee=a(211),te=a.n(ee),ae=a(114),ne=a(501),oe=Object(g.a)((function(e){return{tel:{fontSize:11,display:"block",textDecoration:"none",color:ae.a[700]},address:{fontSize:13,display:"block"},closeButton:{position:"absolute",right:2,top:2,zIndex:999}}})),re=function(e){var t=e.open,a=e.handleClose,n=e.clusterShops,r=oe();return o.a.createElement(V.a,{transitionDuration:0,onClose:a,"aria-labelledby":"simple-dialog-title",open:t,style:{minWidth:300}},o.a.createElement(J.a,{"aria-label":"close",className:r.closeButton,onClick:function(){return a()}},o.a.createElement(te.a,null)),o.a.createElement($.a,null,o.a.createElement(Y.a,{component:"div","aria-label":"cluster-shops"},n&&n.map((function(e,t){var a=e.place,n=a.name,c=a.tel,l=a.jibunAddress;return o.a.createElement(X.a,{key:"list-".concat(e,"-").concat(t)},o.a.createElement(Q.a,{primary:n,secondary:o.a.createElement(o.a.Fragment,null,o.a.createElement(ne.a,{component:"span",variant:"subtitle2",className:r.address},l),o.a.createElement("a",{className:r.tel,href:"tel:".concat(c)},c))}))})))),o.a.createElement(q.a,null))},ce=Object(g.a)((function(e){return{category:{fontSize:11,display:"block"},address:{fontSize:13,display:"block"}}})),le=function(e){var t=e.open,a=e.handleClose,n=e.searchResults,r=e.handleClickItem,c=ce();return o.a.createElement(V.a,{transitionDuration:0,onClose:a,"aria-labelledby":"simple-dialog-title",open:t,style:{minWidth:300}},o.a.createElement($.a,null,o.a.createElement(Y.a,{component:"div","aria-label":"cluster-shops"},n&&n.map((function(e,t){var a=e.id,n=e.place_name,l=e.category_name,i=e.address_name;return o.a.createElement(X.a,{key:"list-".concat(a,"-").concat(t),button:!0,onClick:function(){r&&r(e)}},o.a.createElement(Q.a,{primary:n,secondary:o.a.createElement(o.a.Fragment,null,o.a.createElement(ne.a,{component:"span",variant:"subtitle2",className:c.category},l),o.a.createElement(ne.a,{component:"span",variant:"subtitle2",className:c.address},i))}))})))),o.a.createElement(q.a,null,o.a.createElement(x.a,{onClick:a,variant:"contained",color:"primary"},"\ub2eb\uae30")))},ie=Object(g.a)((function(e){return{map:{width:"100%",height:"100%"},progress:{position:"fixed",zIndex:9999,width:"100%"},dimmer:{width:"100vw",height:"100vh",position:"fixed",display:"flex",justifyContent:"center",alignItems:"center",top:0,left:0,zIndex:10,backgroundColor:"rgba(255,255,255,0.3)",pointerEvents:"none"}}})),se=function(e){var t=e.serviceOpen,a=Object(n.useState)(!0),r=Object(f.a)(a,2),c=r[0],l=r[1],i=Object(n.useState)(window.kakao),s=Object(f.a)(i,1)[0],u=Object(n.useState)(null),m=Object(f.a)(u,2),p=m[0],d=m[1],g=Object(n.useState)(""),h=Object(f.a)(g,2),b=h[0],v=h[1],E=Object(n.useState)(null),k=Object(f.a)(E,2),y=k[0],j=k[1],O=Object(n.useState)(null),w=Object(f.a)(O,2),C=w[0],x=w[1],L=Object(n.useState)(!1),I=Object(f.a)(L,2),B=I[0],N=I[1],z=Object(n.useState)(null),A=Object(f.a)(z,2),M=A[0],P=A[1],W=Object(n.useState)(null),D=Object(f.a)(W,2),K=D[0],V=D[1],$=ie(),q=function(){if(t){var e=p.getCenter(),a=e.Ha,n=e.Ga,o=p.getLevel(),r=12*Math.pow(o+4,2);console.log("radius",r),console.log("center",e),j("\uc8fc\ubcc0 \uac00\ub9f9\uc810\uc744 \ubd88\ub7ec\uc624\ub294\uc911..."),l(!0),G.Shop.fetchShopsByBounds(a,n,r).then((function(e){var t=e.data;X(t),l(!1),N(!0),j(null)})).catch((function(e){_.a.isCancel(e)||j("\ub370\uc774\ud130\ub97c \uac00\uc838\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."),l(!1)}))}},Q=function(){navigator.geolocation?(l(!0),navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,a=t.latitude,n=t.longitude;console.log("getLocation",a,n);var o=new s.maps.LatLng(a,n);p.panTo(o),setTimeout((function(){q()}),500),l(!1)}),(function(){l(!1),j("\ub0b4 \uc704\uce58\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")}))):j("\uc704\uce58\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")},X=Object(n.useCallback)((function(e){C&&C.clear();for(var t=new s.maps.MarkerClusterer({map:p,averageCenter:!0,minLevel:2}),a=[],n={},o=function(t){var o=e[t],r=o.place,c=o.coords,l=r.name,i=c.lat,u=c.lon;n[l]=o;var m=new s.maps.Marker({title:l,text:l,map:p,position:new s.maps.LatLng(i,u)});s.maps.event.addListener(m,"click",(function(){P([o])})),a.push(m)},r=0;r<e.length-1;r++)o(r);s.maps.event.addListener(t,"clusterclick",(function(e){var t=p.getLevel(),a=e.getMarkers();if(2===t&&a){var o=a.map((function(e){var t=e.mc;return n[t]}));P(o)}})),t.addMarkers(a),x(t)}),[M,C,p]);return Object(n.useEffect)((function(){var e=document.getElementById("map"),t={center:new s.maps.LatLng(37.4019528117587,127.10828323199647),level:5},a=new s.maps.Map(e,t);a.setMinLevel(2),d(a),l(!1)}),[s.maps]),Object(n.useEffect)((function(){p&&(Q(),s.maps.event.addListener(p,"tilesloaded",(function(){p.getLevel()<=5?(v(""),N(!1)):(T&&(T(),l(!1)),N(!0),v("\uc9c0\ub3c4\ub97c \uc880 \ub354 \ud655\ub300\ud574\uc8fc\uc138\uc694"))})))}),[p]),o.a.createElement(o.a.Fragment,null,o.a.createElement(S,{onSearch:function(e){var t;e&&(t=e,l(!0),(new s.maps.services.Places).keywordSearch(t,(function(e,t){t===s.maps.services.Status.OK?V(e):t===s.maps.services.Status.ZERO_RESULT?j("\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."):j("\uc11c\ube44\uc2a4\uc5d0 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."),l(!1)})))}}),o.a.createElement(F,{pending:c,onLocationButtonClick:Q,onFetchButtonClick:B?null:function(){q()}}),c&&o.a.createElement(o.a.Fragment,null,o.a.createElement(R.a,{color:"secondary",className:$.progress}),o.a.createElement("div",{className:$.dimmer})),o.a.createElement(re,{handleClose:function(){return P(null)},open:!!M,clusterShops:M}),o.a.createElement(le,{handleClose:function(){return V(null)},open:!!K,searchResults:K,handleClickItem:function(e){var t=e.x,a=e.y,n=new s.maps.LatLng(a,t);p.panTo(n),p.setLevel(3),V(null),q()}}),b&&o.a.createElement(H,{message:b}),o.a.createElement(Z.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!!y,autoHideDuration:3e3,onClose:function(){return j(null)},message:y,action:o.a.createElement(o.a.Fragment,null,o.a.createElement(J.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return j(null)}},o.a.createElement(U.a,null)))}),o.a.createElement("div",{id:"map",className:$.map}))},ue=Object(g.a)((function(e){return{root:Object(h.a)({position:"fixed",zIndex:1e3,right:0,bottom:0,width:200,padding:e.spacing(1),textAlign:"right",textShadow:"1px 1px 1px #fff",fontSize:10},e.breakpoints.up("sm"),{fontSize:11})}})),me=function(){var e=ue();return o.a.createElement("div",{className:e.root},o.a.createElement("div",null,"\uac1c\ubc1c: \uc815\ud604\uc2b9"),o.a.createElement("div",null,"\ubb38\uc758: ahribori@gmail.com"),o.a.createElement("div",null,"\uc9c0\ub3c4 \ubc0f \ub85c\uceec API \uc9c0\uc6d0 : kakao"))},pe=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(me,null))};var de=function(){return o.a.createElement(l.a,{theme:m},o.a.createElement("div",{className:d.a.App},o.a.createElement(se,{serviceOpen:!0}),o.a.createElement(pe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[229,1,2]]]);